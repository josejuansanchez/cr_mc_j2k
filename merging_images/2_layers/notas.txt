1 Layers
--------
kdu_compress -i tree.pgm -o tree.j2c Cuse_sop=yes Corder=LRCP Clayers=2 Clevels=2 Cprecincts="{128,128},{64,64},{32,32}" Cblk="{32,32}" Creversible=yes

kdu_compress -i stockholm.pgm -o stockholm.j2c Cuse_sop=yes Corder=LRCP Clayers=2 Clevels=2 Cprecincts="{128,128},{64,64},{32,32}" Cblk="{32,32}" Creversible=yes


Pasos
-----
1) ./sh_compress.sh

2) ./sh_extract_packets_from_j2c.sh images_j2c/stockholm.j2c packets_stockholm > sh_stockholm.sh

3) chmod +x sh_stockholm.sh

4) ./sh_stockholm.sh

5) ./sh_extract_packets_from_j2c.sh images_j2c/tree.j2c packets_tree > sh_tree.sh

6) chmod +x sh_tree.sh

7) ./sh_tree.sh


Consultamos cuántos bytes ocupa la cabecera de cada imagen
----------------------------------------------------------
8) less sh_stockholm.sh 


J2C Headers (2 Layer)
----------------------
(dd if=images_j2c/tree.j2c of=tree_header.j2c bs=218 count=1 2>&1) > /dev/null
(dd if=images_j2c/stockholm.j2c of=stockholm_header.j2c bs=218 count=1 2>&1) > /dev/null


Distribución de precintos y paquetes para el caso de 2 capas
------------------------------------------------------------
Precinct: 0 	 Packets: 0 180 
Precinct: 1 	 Packets: 1 181 
Precinct: 2 	 Packets: 2 182 
Precinct: 3 	 Packets: 3 183 
Precinct: 4 	 Packets: 4 184 
Precinct: 5 	 Packets: 5 185 
Precinct: 6 	 Packets: 6 186 
Precinct: 7 	 Packets: 7 187 
Precinct: 8 	 Packets: 8 188 
Precinct: 9 	 Packets: 9 189 
Precinct: 10 	 Packets: 10 190 
Precinct: 11 	 Packets: 11 191 
Precinct: 12 	 Packets: 12 192 
Precinct: 13 	 Packets: 13 193 
Precinct: 14 	 Packets: 14 194 
Precinct: 15 	 Packets: 15 195 
Precinct: 16 	 Packets: 16 196 
Precinct: 17 	 Packets: 17 197 
Precinct: 18 	 Packets: 18 198 
Precinct: 19 	 Packets: 19 199 
Precinct: 20 	 Packets: 20 200 
Precinct: 21 	 Packets: 21 201 
Precinct: 22 	 Packets: 22 202 
Precinct: 23 	 Packets: 23 203 
Precinct: 24 	 Packets: 24 204 
Precinct: 25 	 Packets: 25 205 
Precinct: 26 	 Packets: 26 206 
Precinct: 27 	 Packets: 27 207 
Precinct: 28 	 Packets: 28 208 
Precinct: 29 	 Packets: 29 209 
Precinct: 30 	 Packets: 30 210 
Precinct: 31 	 Packets: 31 211 
Precinct: 32 	 Packets: 32 212 
Precinct: 33 	 Packets: 33 213 
Precinct: 34 	 Packets: 34 214 
Precinct: 35 	 Packets: 35 215 
Precinct: 36 	 Packets: 36 216 
Precinct: 37 	 Packets: 37 217 
Precinct: 38 	 Packets: 38 218 
Precinct: 39 	 Packets: 39 219 
Precinct: 40 	 Packets: 40 220 
Precinct: 41 	 Packets: 41 221 
Precinct: 42 	 Packets: 42 222 
Precinct: 43 	 Packets: 43 223 
Precinct: 44 	 Packets: 44 224 
Precinct: 45 	 Packets: 45 225 
Precinct: 46 	 Packets: 46 226 
Precinct: 47 	 Packets: 47 227 
Precinct: 48 	 Packets: 48 228 
Precinct: 49 	 Packets: 49 229 
Precinct: 50 	 Packets: 50 230 
Precinct: 51 	 Packets: 51 231 
Precinct: 52 	 Packets: 52 232 
Precinct: 53 	 Packets: 53 233 
Precinct: 54 	 Packets: 54 234 
Precinct: 55 	 Packets: 55 235 
Precinct: 56 	 Packets: 56 236 
Precinct: 57 	 Packets: 57 237 
Precinct: 58 	 Packets: 58 238 
Precinct: 59 	 Packets: 59 239 
Precinct: 60 	 Packets: 60 240 
Precinct: 61 	 Packets: 61 241 
Precinct: 62 	 Packets: 62 242 
Precinct: 63 	 Packets: 63 243 
Precinct: 64 	 Packets: 64 244 
Precinct: 65 	 Packets: 65 245 
Precinct: 66 	 Packets: 66 246 
Precinct: 67 	 Packets: 67 247 
Precinct: 68 	 Packets: 68 248 
Precinct: 69 	 Packets: 69 249 
Precinct: 70 	 Packets: 70 250 
Precinct: 71 	 Packets: 71 251 
Precinct: 72 	 Packets: 72 252 
Precinct: 73 	 Packets: 73 253 
Precinct: 74 	 Packets: 74 254 
Precinct: 75 	 Packets: 75 255 
Precinct: 76 	 Packets: 76 256 
Precinct: 77 	 Packets: 77 257 
Precinct: 78 	 Packets: 78 258 
Precinct: 79 	 Packets: 79 259 
Precinct: 80 	 Packets: 80 260 
Precinct: 81 	 Packets: 81 261 
Precinct: 82 	 Packets: 82 262 
Precinct: 83 	 Packets: 83 263 
Precinct: 84 	 Packets: 84 264 
Precinct: 85 	 Packets: 85 265 
Precinct: 86 	 Packets: 86 266 
Precinct: 87 	 Packets: 87 267 
Precinct: 88 	 Packets: 88 268 
Precinct: 89 	 Packets: 89 269 
Precinct: 90 	 Packets: 90 270 
Precinct: 91 	 Packets: 91 271 
Precinct: 92 	 Packets: 92 272 
Precinct: 93 	 Packets: 93 273 
Precinct: 94 	 Packets: 94 274 
Precinct: 95 	 Packets: 95 275 
Precinct: 96 	 Packets: 96 276 
Precinct: 97 	 Packets: 97 277 
Precinct: 98 	 Packets: 98 278 
Precinct: 99 	 Packets: 99 279 
Precinct: 100 	 Packets: 100 280 
Precinct: 101 	 Packets: 101 281 
Precinct: 102 	 Packets: 102 282 
Precinct: 103 	 Packets: 103 283 
Precinct: 104 	 Packets: 104 284 
Precinct: 105 	 Packets: 105 285 
Precinct: 106 	 Packets: 106 286 
Precinct: 107 	 Packets: 107 287 
Precinct: 108 	 Packets: 108 288 
Precinct: 109 	 Packets: 109 289 
Precinct: 110 	 Packets: 110 290 
Precinct: 111 	 Packets: 111 291 
Precinct: 112 	 Packets: 112 292 
Precinct: 113 	 Packets: 113 293 
Precinct: 114 	 Packets: 114 294 
Precinct: 115 	 Packets: 115 295 
Precinct: 116 	 Packets: 116 296 
Precinct: 117 	 Packets: 117 297 
Precinct: 118 	 Packets: 118 298 
Precinct: 119 	 Packets: 119 299 
Precinct: 120 	 Packets: 120 300 
Precinct: 121 	 Packets: 121 301 
Precinct: 122 	 Packets: 122 302 
Precinct: 123 	 Packets: 123 303 
Precinct: 124 	 Packets: 124 304 
Precinct: 125 	 Packets: 125 305 
Precinct: 126 	 Packets: 126 306 
Precinct: 127 	 Packets: 127 307 
Precinct: 128 	 Packets: 128 308 
Precinct: 129 	 Packets: 129 309 
Precinct: 130 	 Packets: 130 310 
Precinct: 131 	 Packets: 131 311 
Precinct: 132 	 Packets: 132 312 
Precinct: 133 	 Packets: 133 313 
Precinct: 134 	 Packets: 134 314 
Precinct: 135 	 Packets: 135 315 
Precinct: 136 	 Packets: 136 316 
Precinct: 137 	 Packets: 137 317 
Precinct: 138 	 Packets: 138 318 
Precinct: 139 	 Packets: 139 319 
Precinct: 140 	 Packets: 140 320 
Precinct: 141 	 Packets: 141 321 
Precinct: 142 	 Packets: 142 322 
Precinct: 143 	 Packets: 143 323 
Precinct: 144 	 Packets: 144 324 
Precinct: 145 	 Packets: 145 325 
Precinct: 146 	 Packets: 146 326 
Precinct: 147 	 Packets: 147 327 
Precinct: 148 	 Packets: 148 328 
Precinct: 149 	 Packets: 149 329 
Precinct: 150 	 Packets: 150 330 
Precinct: 151 	 Packets: 151 331 
Precinct: 152 	 Packets: 152 332 
Precinct: 153 	 Packets: 153 333 
Precinct: 154 	 Packets: 154 334 
Precinct: 155 	 Packets: 155 335 
Precinct: 156 	 Packets: 156 336 
Precinct: 157 	 Packets: 157 337 
Precinct: 158 	 Packets: 158 338 
Precinct: 159 	 Packets: 159 339 
Precinct: 160 	 Packets: 160 340 
Precinct: 161 	 Packets: 161 341 
Precinct: 162 	 Packets: 162 342 
Precinct: 163 	 Packets: 163 343 
Precinct: 164 	 Packets: 164 344 
Precinct: 165 	 Packets: 165 345 
Precinct: 166 	 Packets: 166 346 
Precinct: 167 	 Packets: 167 347 
Precinct: 168 	 Packets: 168 348 
Precinct: 169 	 Packets: 169 349 
Precinct: 170 	 Packets: 170 350 
Precinct: 171 	 Packets: 171 351 
Precinct: 172 	 Packets: 172 352 
Precinct: 173 	 Packets: 173 353 
Precinct: 174 	 Packets: 174 354 
Precinct: 175 	 Packets: 175 355 
Precinct: 176 	 Packets: 176 356 
Precinct: 177 	 Packets: 177 357 
Precinct: 178 	 Packets: 178 358 
Precinct: 179 	 Packets: 179 359 


Realizamos pruebas mezclando paquetes de ambas imágenes. Por ejemplo:
---------------------------------------------------------------------
cp packets_tree/* packets_tree_stock/

./create_empty_packet 90

mv 90.j2c packets_tree_stock/

./sh_mix_packets.sh 

cat tree_header.j2c out.j2c > temp.j2c 

wine kdu_show temp.j2c